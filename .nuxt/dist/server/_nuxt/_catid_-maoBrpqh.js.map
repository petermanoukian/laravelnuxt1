{"version":3,"file":"_catid_-maoBrpqh.js","sources":["../../../../pages/subcat/viewsubcatbycatid/[catid].vue"],"sourcesContent":["<script setup>\r\nimport { ref, onMounted, watch, computed } from 'vue'\r\nimport { useRuntimeConfig, useNuxtApp } from '#imports'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst config = useRuntimeConfig()\r\nimport { useFetch } from '#app' \r\n\r\nconst { $api } = useNuxtApp()\r\nconst apiUrl = useRuntimeConfig().public.apiBaseUrl\r\n\r\n\r\nimport { useCatopenPagination } from '~/composables/useCatopenpagination'\r\nimport { useSubcatopenpagination } from '~/composables/useSubcatopenpagination'\r\nconst { \r\n  cats, \r\n  currentPage: currentCatPage, \r\n  lastPage: lastCatPage, \r\n  changePage: changeCatPage, \r\n  pageNumbers: catPageNumbers, \r\n  fetchCats \r\n} = useCatopenPagination()\r\n\r\n\r\n\r\n\r\nconst catidx = route.params.catid\r\nconst cat= ref(null)\r\n\r\nconst fetchCat = async () => {\r\n  try \r\n  {\r\n    const response = await fetch(`${apiUrl}/cat/detail/${catidx}`)\r\n    const data = await response.json() // Parse the JSON response\r\n    cat.value = data\r\n    //JSON.stringify(cat.value)\r\n\t\r\n  } \r\n  catch (error) \r\n  {\r\n\t\r\n\tconsole.error('Error fetching item:', error.response ? error.response.data : error.message)\r\n  }\r\n}\r\n\r\nconst { \r\n  subcats, \r\n  currentPage: currentSubcatPage, \r\n  lastPage: lastSubcatPage, \r\n  changePage: changeSubcatPage, \r\n  pageNumbers: subcatPageNumbers, \r\n  fetchSubcats \r\n}  = useSubcatopenpagination(catidx)\r\n\r\n\r\nimport { useHead } from 'nuxt/app'\r\n\r\nawait fetchCat()\r\n  \r\n   if (cat.value) {\r\n    useHead({\r\n      title: cat.value.name,\r\n      meta: [\r\n        {\r\n          name: 'description',\r\n          content: cat.value.name + '  ' + cat.value.des\r\n        },\r\n        {\r\n          name: 'keywords',\r\n          content: cat.value.name + ', Nuxt3 Laravel 11 MySQl API Web Development Armenia, Web Developer Lebanon'\r\n        },\r\n        {\r\n          property: 'og:title',\r\n          content: cat.value.name\r\n        },\r\n        {\r\n          property: 'og:description',\r\n          content: cat.value.name + '  ' + cat.value.des\r\n        }\r\n      ]\r\n    })\r\n  }\r\n\r\nonMounted(async () => {\r\n\r\n \r\n  fetchSubcats(catidx)\r\n})\r\n\r\nconst key = ref(0)\r\n\r\nwatch(route, async (newRoute, oldRoute) => {\r\n  fetchCats()\r\n  fetchSubcats(catidx)\r\n})\r\n\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"container-xxl py-1\">\r\n\t\t<div class=\"container mt-4\">\r\n\t\t\t<h1 class=\"text-center mb-1 wow fadeInUp\" data-wow-delay=\"0.1s\">Sub Categories of {{ cat.name }} </h1>\r\n\t\t\t<div class=\"row g-4\">\r\n\t\t\t\t\r\n\t\t\t<div v-if =\"cat\">\r\n\t\t\r\n\t\t\t\t<h3>Category: {{ cat.name }}  </h3>\r\n\r\n\t\t\t\t\r\n\t\t\t\t<div v-if=\"cat.des !== 'null' && cat.des !== 'NULL' && cat.des !== ''\"  \r\n\t\t\t\tclass=\"formatted-result mt-4\" v-html=\"cat.des\"></div>\r\n\t\t\t\t\r\n\t\t\t\t<p v-if=\"cat.img\">\r\n\t\t\t\t  <img :src=\"`${config.public.BaseUrl}/images/cat/${cat.img}`\"\r\n\t\t\t\t  :alt=\"cat.name\" class=\"mt-2 mb-2 maxwidth96height300\"/>\r\n\t\t\t\t</p> \r\n\t\t\t\t<p v-else>\r\n\t\t\t\t\t<img src=\"~/assets/default/1.jpg\" alt=\"Default Picture\" class=\"mt-2 mb-2 \"/>\r\n\t\t\t\t</p>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t\r\n\t\t<div class=\"container mt-4\">\r\n\t\t\t<h1 class=\"text-center mb-1 wow fadeInUp\" data-wow-delay=\"0.1s\">SubCategories</h1>\r\n\t\t\t<div class=\"row g-4 mt-4 mb-4 fullwidth margintopbottom8\" \r\n\t\t\tstyle = 'width:97%;clear:both;margin:9px;pading:9px;'> <p> Subcategoriess {{ subcats }} </p> </div>\r\n\t\t\t<hr class ='hr1' />\r\n\t\t\t<div class=\"row g-4 mt-4\" v-if=\"subcats && subcats.length > 0\">\r\n\t\t\t\t\r\n\t\t\t\t<SubcatsOpen\r\n\t\t\t\t  :subcats=\"subcats\" \r\n\t\t\t\t  :currentPage=\"currentSubcatPage\" \r\n\t\t\t\t  :lastPage=\"lastSubcatPage\" \r\n\t\t\t\t  :changePage=\"changeSubcatPage\" \r\n\t\t\t\t  :pageNumbers=\"subcatPageNumbers\"  \r\n\t\t\t\t  :key=\"key.value\" \r\n\t\t\t\t  :catid=\"catidx\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div  v-else class=\"row g-4 mt-4 fullwidth margintopbottom8\">\r\n\t\t\t\tNo subcategories were found \r\n\t\t\t</div>\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t\t\r\n\t</div>\r\n</template>"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIe,cAAW;AAC1B,UAAM,QAAQ,SAAU;AACxB,UAAM,SAAS,iBAAkB;AAGhB,eAAY;AAC7B,UAAM,SAAS,mBAAmB,OAAO;AAKzC,UAAM;AAAA,MACJ;AAAA,MACA,aAAa;AAAA,MACb,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,aAAa;AAAA,MACb;AAAA,IACF,IAAI,qBAAsB;AAK1B,UAAM,SAAS,MAAM,OAAO;AAC5B,UAAM,MAAK,IAAI,IAAI;AAEnB,UAAM,WAAW,YAAY;AAC3B,UACA;AACE,cAAM,WAAW,MAAM,MAAM,GAAG,MAAM,eAAe,MAAM,EAAE;AAC7D,cAAM,OAAO,MAAM,SAAS,KAAM;AAClC,YAAI,QAAQ;AAAA,MAGb,SACM,OACP;AAED,gBAAQ,MAAM,wBAAwB,MAAM,WAAW,MAAM,SAAS,OAAO,MAAM,OAAO;AAAA,MACxF;AAAA,IACH;AAEA,UAAM;AAAA,MACJ;AAAA,MACA,aAAa;AAAA,MACb,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,aAAa;AAAA,MACb;AAAA,IACF,IAAK,wBAA8B;AAKnC,IAAM,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,SAAQ,CAAC;AAEZ,QAAI,IAAI,OAAO;AACd,cAAQ;AAAA,QACN,OAAO,IAAI,MAAM;AAAA,QACjB,MAAM;AAAA,UACJ;AAAA,YACE,MAAM;AAAA,YACN,SAAS,IAAI,MAAM,OAAO,OAAO,IAAI,MAAM;AAAA,UAC5C;AAAA,UACD;AAAA,YACE,MAAM;AAAA,YACN,SAAS,IAAI,MAAM,OAAO;AAAA,UAC3B;AAAA,UACD;AAAA,YACE,UAAU;AAAA,YACV,SAAS,IAAI,MAAM;AAAA,UACpB;AAAA,UACD;AAAA,YACE,UAAU;AAAA,YACV,SAAS,IAAI,MAAM,OAAO,OAAO,IAAI,MAAM;AAAA,UAC5C;AAAA,QACF;AAAA,MACP,CAAK;AAAA,IACF;AAQH,UAAM,MAAM,IAAI,CAAC;AAEjB,UAAM,OAAO,OAAO,UAAU,aAAa;AACzC,gBAAW;AACX,mBAAa,MAAM;AAAA,IACrB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}