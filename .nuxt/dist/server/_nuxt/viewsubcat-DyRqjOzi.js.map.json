{"file":"viewsubcat-DyRqjOzi.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,UAAM,EAAE,SAAS,aAAa,UAAU,YAAY,aAAa,aAAc,IAAG,oBAAqB;AAYxF,cAAW;AAC1B,UAAM,QAAQ,SAAU;AAKN,iBAAc;AAOhC,UAAM,MAAM,IAAI,CAAC;AAsBjB,UAAM,OAAO,OAAO,UAAU,aAAa;AACzC,cAAQ,IAAI,sBAAsB,SAAS,MAAM,MAAM,SAAS,IAAI;AACpE,YAAM,aAAY;AAAA,IACpB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/admin/subcat/viewsubcat.vue"],"sourcesContent":["<!-- pages/admin/subcat/viewsubcat.vue -->\r\n<script setup>\r\nimport { useAuthStore } from '~/stores/auth'\r\nimport { ref, onMounted, watch, computed } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport Sidebar from '~/components/Sidebar.vue'\r\nimport MobileHeader from '~/components/MobileHeader.vue'\r\nimport { useSubcatPagination } from '~/composables/useSubcatpagination'\r\n\r\nconst { subcats, currentPage, lastPage, changePage, pageNumbers, fetchSubcats } = useSubcatPagination()\r\n\r\n\r\n\r\n\r\ndefinePageMeta({\r\n  middleware: 'auth',\r\n  layout: 'admin'\r\n});\r\n\r\n\r\nimport { useRuntimeConfig } from '#imports'\r\nconst router = useRouter()\r\nconst route = useRoute()\r\n\r\nconst catidx =''\r\n\r\n\r\nconst authStore = useAuthStore()\r\n\r\nonMounted(async () => {\r\n  await authStore.fetchUser()\r\n  fetchSubcats()\r\n\r\n})\r\nconst key = ref(0)\r\n\r\n\r\n\r\nconst refreshRoute = () => {\r\n\r\n  key.value += 1;\r\n\r\n\r\nrouter.replace({ path: route.path })\r\n    .then(() => {\r\n      console.log('Navigation ok, route replaced to ' + route.path);\r\n    })\r\n    .catch(err => {\r\n      console.error('Navigation error:', err);\r\n    });\r\n  console.log('end')\r\n  fetchSubcats()\r\n \r\n}\r\n\r\n\r\nwatch(route, async (newRoute, oldRoute) => {\r\n  console.log('Route changed from', oldRoute.path, 'to', newRoute.path);\r\n  await fetchSubcats();\r\n});\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n<template>\r\n\r\n\r\n<div  class=\"bg-gray-100 font-family-karla flex\">\r\n\t<Sidebar />\r\n\r\n    <div class=\"relative w-full flex flex-col h-screen overflow-y-hidden\">\r\n        <!-- Desktop Header -->\r\n        <header class=\"w-full items-center bg-white py-2 px-6 hidden sm:flex\">\r\n            <div class=\"w-1/2\"></div>\r\n            <div  class=\"relative w-1/2 flex justify-end\">\r\n\t\t\t View SubCategories \r\n            </div>\r\n        </header>\r\n\r\n        <!-- Mobile Header & Nav -->\r\n       <MobileHeader />\r\n    \r\n        <div class=\"w-full h-screen overflow-x-hidden border-t flex flex-col\">\r\n            <main class=\"w-full flex-grow p-6\">\r\n\t\t\t<h1 class=\"text-2xl font-bold mb-4\">View SubCategories\r\n\t\t\t\r\n\t\t\t  <NuxtLink to=\"/admin/subcat/addsubcategory\" class=\" widthmax300 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">\r\n\t\t\t\t\t<i class=\"fas fa-align-left mr-3\"></i>Add SubCategory</NuxtLink>\r\n\t\t\t </h1>\r\n\t\t\t\r\n\t\t\t<SubcatsAdmin \r\n\t\t\t  :subcats=\"subcats\" \r\n\t\t\t  :currentPage=\"currentPage\" \r\n\t\t\t  :lastPage=\"lastPage\" \r\n\t\t\t  :changePage=\"changePage\" \r\n\t\t\t  :pageNumbers=\"pageNumbers\"  \r\n\t\t\t  :key=\"key.value\" \r\n\t\t\t/>\r\n\t\t\t<p>Current Route: {{ $route.path }}</p>\r\n\t\t\t<button @click.native=\"refreshRoute\"\r\n\t\t\tclass=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-3\">Refresh Route</button>\t\t\r\n\r\n            </main>\r\n    \r\n            <footer class=\"w-full bg-white text-right p-4\">\r\n                \r\n            </footer>\r\n        </div>\r\n\t\t\r\n\t</div>\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t</div>\r\n\r\n\r\n\r\n</template>\r\n"],"version":3}