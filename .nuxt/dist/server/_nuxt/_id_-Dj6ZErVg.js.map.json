{"file":"_id_-Dj6ZErVg.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAoBkB,iBAAc;AAQjB,cAAW;AAC1B,UAAM,QAAQ,SAAU;AACxB,UAAM,MAAM,IAAI,EAAE;AAClB,UAAM,OAAO,IAAI,EAAE;AAEnB,UAAM,YAAY,IAAI,EAAE;AACxB,UAAM,UAAU,IAAI,EAAE;AAEX,UAAM,OAAO;AAGxB,UAAM,OAAM,IAAI,IAAI;AAGH,eAAY;AACd,qBAAkB,EAAC,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/admin/tagg/edit/[id].vue"],"sourcesContent":["<!-- pages/admin/tag/edit/[id].vue -->\r\n<script setup>\r\nimport { useAuthStore } from '~/stores/auth'\r\nimport { ref, onMounted, watch, computed } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport Sidebar from '~/components/Sidebar.vue'\r\nimport MobileHeader from '~/components/MobileHeader.vue'\r\n\r\n\r\nimport { useRuntimeConfig } from '#imports'\r\n\r\nconst config = useRuntimeConfig()\r\n\r\n\r\n\r\ndefinePageMeta({\r\n  middleware: 'auth',\r\n  layout: 'admin'\r\n});\r\n\r\nconst authStore = useAuthStore()\r\n\r\nonMounted(async () => {\r\n  await authStore.fetchUser()\r\n  fetchTagg()\r\n})\r\n\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst id1 = ref('')\r\nconst name = ref('')\r\n\r\nconst editerror = ref('')\r\nconst editsuc = ref('')\r\n\r\nconst id = route.params.id\r\n\r\n\r\nconst tagg= ref(null)\r\n\r\n// Use NuxtApp to access global plugins or configurations\r\nconst { $api } = useNuxtApp()\r\nconst apiUrl = useRuntimeConfig().public.apiBaseUrl\r\n\r\nconst fetchTagg = async () => {\r\n  try {\r\n    // Call the Laravel API using the ID from the route\r\n    const response = await $api.get(`${apiUrl}/admin/tagg/edit/${id}`)\r\n\tid1.value = id;\r\n    tagg.value = response.data\r\n\tname.value = tagg.value.name\r\n\r\n  } catch (error) {\r\n    console.error('Error fetching item:', error.response ? error.response.data : error.message)\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nconst edittagg = async () => {\r\n  const { $api } = useNuxtApp()\r\n  const apiUrl = useRuntimeConfig().public.apiBaseUrl\r\n\r\n  const formData = new FormData()\r\n  formData.append('name', name.value)\r\n\r\n\r\n  try {\r\n    const response = await $api.post(`${apiUrl}/admin/tagg/update/${id}`, formData)\r\n  \r\n\teditsuc.value = ' updated ' + name.value +  ' ... you will be redircted in a monent ...'\r\n  } catch (error) {\r\n\r\n\t\tif (error.response && error.response.status === 422) {\r\n          // Extract error message from the response\r\n          editerror.value = error.response.data.message;\r\n        } else {\r\n          editerror.value = 'An unexpected error occurred.';\r\n        }\r\n  }\r\n\r\n  setTimeout(() => {\r\n    router.push('/admin/tagg/viewtagg'); \r\n  }, 300); \r\n}\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n<template>\r\n\r\n\r\n<div  class=\"bg-gray-100 font-family-karla flex\">\r\n\t<Sidebar />\r\n\r\n    <div class=\"relative w-full flex flex-col h-screen overflow-y-hidden\">\r\n        <!-- Desktop Header -->\r\n        <header class=\"w-full items-center bg-white py-2 px-6 hidden sm:flex\">\r\n            <div class=\"w-1/2\"></div>\r\n            <div  class=\"relative w-1/2 flex justify-end\">\r\n\t\t\t Edit Tag\r\n            </div>\r\n        </header>\r\n\r\n        <!-- Mobile Header & Nav -->\r\n       <MobileHeader />\r\n    \r\n        <div class=\"w-full h-screen overflow-x-hidden border-t flex flex-col\">\r\n            <main class=\"w-full flex-grow p-6\">\r\n\t\t\t\r\n\t\t\t<div v-if=\"tagg\">\t\r\n\r\n\r\n\t\t\t\t<div class=\"flex items-center justify-center bg-gray-100\">\r\n\t\t\t\t\t<div class=\"fullwidth90 bg-white p-8 shadow-md rounded-lg\">\r\n\t\t\t\t\t\t<h1 class=\"text-2xl font-bold mb-4\">Edit Tag</h1>\r\n\t\t\t\t\t\t<p class=\"mb-4\">\r\n\t\t\t\t\t\t  <NuxtLink to=\"/admin/tagg/viewctagg\" class=\" widthmax300 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">\r\n\t\t\t\t\t\t  <i class=\"fas fa-align-left mr-3\"></i>View Tags</NuxtLink>\r\n\t\t\t\t\t\t </p>\r\n\t\t\t\t\t\t<form @submit.prevent=\"edittagg\">\r\n\r\n\t\t\t\t\t\t<div class=\"mb-4\">\t\r\n\t\t\t\t\t\t  <label for=\"name\" class=\"block text-sm font-medium text-gray-700\">Full Name</label>\r\n\t\t\t\t\t\t  <input v-model=\"name\" type=\"text\" placeholder=\"Name\" required\r\n\t\t\t\t\t\t  class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 \r\n\t\t\t\t\t\t  focus:border-indigo-500 sm:text-sm\"/>\r\n\t\t\t\t\t\t</div>  \r\n\r\n\t\t\t\t\t\t\r\n\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<input v-model=\"id1\" type=\"text\" readonly \r\n\t\t\t\t\t\t\tclass=\"mt-1 block w-full px-3 py-2 mb-4 mt-4 border border-gray-300 rounded-md shadow-sm focus:outline-none \r\n\t\t\t\t\t\t\tfocus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" />\r\n\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">Update</button>\r\n\t\t\t\t\t\t<p v-if=\"editerror\" class=\"mt-2 text-sm text-red-600\">{{ editerror }}</p>\r\n\t\t\t\t\t\t<p v-if=\"editsuc\" class=\"mt-2 text-sm text-red-600\">{{ editsuc }}</p>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t  </div>\r\n\t\t\t  \r\n\r\n\r\n\r\n\r\n\r\n\t\t\t</div>\r\n\t\t    <div v-else>\r\n\t\t\t<p>Loading...</p>\r\n\t\t    </div>\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\r\n\r\n\t\t\t  \r\n \r\n            </main>\r\n    \r\n            <footer class=\"w-full bg-white text-right p-4\">\r\n                \r\n            </footer>\r\n        </div>\r\n\t\t\r\n\t</div>\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t</div>\r\n\r\n\r\n\r\n</template>\r\n\r\n\r\n\r\n"],"version":3}